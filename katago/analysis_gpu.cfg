# KataGo Analysis Engine - GPU Batch Processing Config
# Optimized for high-throughput batch processing on RTX 5060
# Benchmarked: ~34 pos/s at 500 visits (b6c96 model), GPU ~60-70% util

# Logs
logDir = analysis_logs
logErrorsAndWarnings = true

# Analysis settings
reportAnalysisWinratesAs = BLACK

# Search limits
maxVisits = 500

# Batch processing optimization:
# - 32 analysis threads: best balance for RTX 5060
# - 2 search threads per analysis thread: keeps GPU fed without CPU overhead
# - nnMaxBatchSize=256: allows larger GPU batches for better utilization
numAnalysisThreads = 32
numSearchThreadsPerAnalysisThread = 2

# GPU batching
nnMaxBatchSize = 256

# Cache settings - 2^20 = 1M entries (reduced for b18 model to fit 16GB RAM)
nnCacheSizePowerOfTwo = 20
nnMutexPoolSizePowerOfTwo = 17
nnRandomize = true

# Rules
rules = chinese
