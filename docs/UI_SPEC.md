# Go Strategy App - UI 設計規範

> **目標**: 確保在移動端 (Flutter) 和網頁端 (Streamlit/React) 平台上提供一致且高品質的使用者體驗。

## 1. 視覺設計標準

### 1.1 建議棋步分級與配色
AI 建議棋步將根據勝率 (Winrate) 和領先目數 (Score Lead) 分為 **3 個等級 (Tiers)**。
我們採用 **密集排名 (Dense Ranking)** 邏輯 (1, 2, 3)，即相同品質的棋步共用同一個排名。

| 排名 (Rank) | 等級名稱 | 顏色邏輯 | 色碼參考 (Hex) |
|---|---|---|---|
| **1** | **最佳 (Best)** | 主要建議 | `Colors.blue` / `#2196F3` |
| **2** | **好手 (Good)** | 安全/次佳 | `Colors.green` / `#4CAF50` |
| **3** | **普通 (OK)** | 警告/備選 | `Colors.orange` / `#FF9800` |

*注意：僅顯示前 3 個等級的棋步 (Top 3 Tiers)。若有第 4 級以後的建議，應予以隱藏。*

*(待補正確截圖: 顯示 1, 2, 3 級別的棋盤畫面)*

### 1.2 棋盤美學
- **背景**: 木紋材質或 CSS 顏色 `#DEB887` (Burlywood)。
- **棋子**:
  - **黑棋**: `#000000`，帶有微幅放射狀漸層 (灰色高光)。
  - **白棋**: `#FFFFFF`，帶有灰色邊框線條 `1px` 以增加對比。
- **陰影**: 棋子下方需有柔和的落影 (offset 2px, blurred) 以增加立體感。
- **手數顯示**:
  - 自動對比色 (黑底白字，白底黑字)。
  - 字體為粗體 Sans-serif。
  - 預設為 **關閉**，可透過設定開啟。

---

## 2. 分析介面 (Sidebar/Panel)

### 2.1 側邊欄資訊
桌面端顯示於側邊，移動端顯示於下方面板。必須與棋盤上的建議同步。

**需求:**
- **列表項目**: 需顯示排名 (圓形圖示)、座標 (如 "Q16")、勝率 %、以及領先目數。
- **一致性**: 列表中的排名數字 **必須** 與棋盤上的排名數字 (1-2-3) 完全一致。
- **互動**: 點擊列表項目應在棋盤上預覽該棋步。

*(待補正確截圖: 僅顯示 Top 3 的列表)*

### 2.2 歷史紀錄 (Kifu)
- 獨立的 "歷史紀錄" (History) 分頁。
- 格式: `Move N: [顏色] [座標]` (例如: "Move 52: White D10")。
- 互動: 點擊紀錄可跳轉至該手數的棋盤狀態。

---

## 3. 互動設計

### 3.1 輸入處理
- **點擊**: 落子 (桌面端支援滑鼠懸停 Ghost stone)。
- **無效棋步**:
  - **打劫 (Ko)**: 違反打劫規則時，顯示提示訊息或震動回饋 "打劫規則限制 (Ko rule violation)"。
  - **自殺手**: 顯示提示 "禁止自殺 (Suicide is forbidden)"。
- **輪次**: 黑 -> 白 -> 黑 (需支援讓子局邏輯)。

### 3.2 分析狀態
| 狀態 | 視覺指標 | 訊息文字 |
|---|---|---|
| **閒置** | 無 | "點擊棋盤進行分析" |
| **載入中** | 旋轉圈 / 進度條 | "正在分析... (N/M visits)" |
| **完成** | 結果列表 | 顯示 Top 3 建議棋步 |
| **錯誤** | 紅色標籤 / 橫幅 | 錯誤描述文字 |

---

## 4. 跨平台檢查清單

- [x] **移動端 (Flutter)**:
  - 底部設定選單 (Bottom Sheet)。
  - 分頁式分析面板 (分析 / 紀錄)。
  - 觸控優化尺寸 (點擊目標最小 44px)。
- [ ] **網頁端 (Streamlit/React)**:
  - 側邊欄佈局。
  - 鍵盤快速鍵 (左右鍵切換手數)。
  - 交叉點懸停效果 (Hover effects)。

*本規範文件將持續更新。當 UI 元件修改完成後，請更新相關截圖。*
